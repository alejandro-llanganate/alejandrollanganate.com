---
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
// URLs del curso
const courseUrl = {
  simpleUrl: "#",
  discountUrl: "#",
};

const courseData = {
  title: "Obsidian: Domina la Gesti√≥n del Conocimiento",
  subtitle:
    "Aprende a crear un segundo cerebro digital y optimiza tu productividad personal con Obsidian",
  description:
    "Domina Obsidian desde cero y transforma tu manera de gestionar informaci√≥n y conocimiento.",
  rating: 4.8,
  totalRatings: 1250,
  students: 6050,
  lastUpdate: "Enero 2024",
  language: "Espa√±ol",
  instructor: "Alejandro Llanganate",
  price: 49.99,
  discountPrice: 23.99,
  features: [
    "Acceso de por vida",
    "15 horas de contenido en video",
    "45 recursos descargables",
    "Certificado de finalizaci√≥n",
    "Acceso m√≥vil y TV",
  ],
};
---

<Layout title={`Obsidian Course`}>
  <Container>
    <div class="course-page">
      <div class="course-banner">
        <div class="course-info">
          <nav class="breadcrumbs">
            <a href="/courses">Cursos</a> / <span>Obsidian</span>
          </nav>
          <h1 class="course-title">{courseData.title}</h1>
          <p class="course-subtitle">{courseData.subtitle}</p>
          <div class="course-stats">
            <div class="rating-container">
              <span class="rating">
                {courseData.rating}
                <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                <span class="total-ratings"
                  >({courseData.totalRatings} valoraciones)</span
                >
              </span>
            </div>
            <div class="stats-grid">
              <div class="stat-item">
                <span class="stat-icon">üë•</span>
                <span>{courseData.students} estudiantes</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">üë®‚Äçüè´</span>
                <span>Creado por {courseData.instructor}</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">üìÖ</span>
                <span>√öltima actualizaci√≥n: {courseData.lastUpdate}</span>
              </div>
              <div class="stat-item">
                <span class="stat-icon">üåê</span>
                <span>{courseData.language}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="action-card">
        <div class="course-preview">
          <img
            src="https://i.ibb.co/z4M4twz/obsidian-course.jpg"
            alt="Vista previa del curso de Obsidian"
            class="course-thumbnail"
          />
          <button class="preview-overlay">
            <span class="play-icon">‚ñ∂Ô∏è</span>
            <span class="preview-text">Ver introducci√≥n</span>
          </button>
        </div>

        <div class="pricing">
          <div class="price-container">
            <span class="price">${courseData.price} USD</span>
          </div>
        </div>
        <a class="buy-now" href={courseUrl.simpleUrl}>
          <span>Comprar Ahora</span>
          <span class="arrow">‚Üí</span>
        </a>
        <button class="apply-coupon" id="openCouponModal">
          Aplicar Cup√≥n <span class="discount-badge">
            {
              Math.round(
                (1 - courseData.discountPrice / courseData.price) * 100
              )
            }% dto.
          </span>
          <span class="current-price">${courseData.discountPrice} USD</span>
        </button>
        <div class="features-list">
          <div class="content-hours">
            <span class="feature-icon">‚è±Ô∏è</span>
            <span>{courseData.features[1]}</span>
          </div>
          {
            courseData.features.slice(0, 4).map((feature) => (
              <div class="feature-item">
                <span class="feature-icon">‚úì</span>
                <span>{feature}</span>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </Container>

  <!-- Contenido del Curso -->
  <Container>
    <div class="content-layout">
      <!-- Columna principal (3/4 del ancho) -->
      <div class="main-content">
        <div class="learning-section">
          <h2 class="section-title">Lo que aprender√°s</h2>
          <div class="learning-grid">
            {
              [
                "Obtener un conocimiento elemental de Obsidian para la gesti√≥n de conocimientos, toma de notas y organizaci√≥n de las mismas.",
                "Optimizar el flujo de trabajo con Obsidian, ahorrando tiempo y mejorando tus apuntes.",
                "Aplicar buenas pr√°cticas para tomar notas y tener un mejor aprendizaje.",
                "Aprender los complementos de la comunidad m√°s importantes para el estudio con Obsidian.",
              ].map((item) => (
                <div class="learning-item">
                  <span class="check-icon">‚úì</span>
                  <p>{item}</p>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <!-- Espacio reservado para la tarjeta (1/4 del ancho) -->
      <div class="sidebar-space"></div>
    </div>
    <div class="course-content-section mb-16">
      <h2 class="section-title text-xl font-bold mb-4">Contenido del curso</h2>
      <div class="course-modules">
        {
          [
            {
              title:
                "Secci√≥n 1: Introducci√≥n a la toma de apuntes inteligentes y Obsidian",
              lessons: [
                "Introducci√≥n al m√≥dulo - Note-taking - Tomar apuntes",
                "Mitos y verdades de tomar apuntes",
                "Notas de Cornell",
                "Idea principal e idea secundaria",
                "Ejemplo de una nota Cornell",
                "Zettelkasten",
                "Listos para Obsidian",
              ],
              duration: "11 min",
              lectureCount: 7,
            },
            {
              title: "Secci√≥n 2: Instalaci√≥n de Obsidian",
              lessons: [
                "Instalaci√≥n de Obsidian en Mac",
                "Instalaci√≥n de Obsidian en Windows",
                "Instalaci√≥n de Obsidian en Linux (Ubuntu)",
              ],
              duration: "3 min",
              lectureCount: 3,
            },
            {
              title: "Secci√≥n 3: Sintaxis b√°sica",
              lessons: [
                "Creaci√≥n de nuestro primer vault",
                "Interfaz de Obsidian",
                "Cambiar la apariencia de nuestro editor",
                "Enlaces internos",
                "Crear un alias",
                "M√∫ltiples alias",
                "Enlaces a encabezados",
                "Im√°genes",
                "Instalaci√≥n de Awesome Image",
                "Snippet para centrar im√°genes",
                "Insertar tablas",
                "Plugin Advanced Tables",
                "Callouts",
                "Crear un template",
                "Backlinks",
                "Insertar un recurso de YouTube o Twitter",
              ],
              duration: "1 hr 10 min",
              lectureCount: 15,
            },
            {
              title: "Secci√≥n 4: Manejo de archivos",
              lessons: [
                "Abrir un archivo PDF con el visualizador de Obsidian",
                "Incrustar un PDF en una nota",
                "Consejos para subrayar correctamente",
                "Crear anotaciones en PDFs",
                "Spreadsheets",
              ],
              duration: "25 min",
              lectureCount: 5,
            },
            {
              title: "Secci√≥n 5: Mapas conceptuales",
              lessons: [
                "Importancia de los mapas conceptuales",
                "Enhancing mindmap",
                "Excalidraw",
                "Introducci√≥n a Canvas",
                "Ejemplo de un Canvas con notas",
              ],
              duration: "20 min",
              lectureCount: 5,
            },
            {
              title: "Secci√≥n 6: Vista de grafo",
              lessons: [
                "Introducci√≥n a la vista de grafo",
                "Configuraci√≥n b√°sica de la vista de grafo",
                "Profundizando en la vista de grafo",
                "Personalizaci√≥n",
              ],
              duration: "15 min",
              lectureCount: 4,
            },
            {
              title: "Secci√≥n 7: Obsidian Sync y Obsidian Publish",
              lessons: [
                "Opciones de pago de Obsidian",
                "Obsidian Sync",
                "Obsidian Publish",
              ],
              duration: "10 min",
              lectureCount: 3,
            },
            {
              title: "Secci√≥n 8: Bonus: Obsidian para developers",
              lessons: [
                "Insertar c√≥digo en nuestras notas",
                "Diagramas UML con Mermaid",
              ],
              duration: "8 min",
              lectureCount: 2,
            },
          ].map((module, index) => (
            <div class="module-accordion border p-4 rounded-lg mb-2">
              <div class="module-header flex justify-between items-start cursor-pointer">
                <div class="module-title-section">
                  <h3 class="font-semibold text-left">{module.title}</h3>
                  <div class="module-meta text-sm">
                    <span>{module.lectureCount} clases</span>
                    <span>‚Ä¢</span>
                    <span>{module.duration}</span>
                  </div>
                </div>
                <span class="accordion-icon">‚ñº</span>
              </div>

              <div class="module-content mt-2">
                <div role="region">
                  {module.lessons.map((lesson, lessonIndex) => (
                    <div class="lesson-item py-1">
                      <span class="lesson-icon">üìù</span>
                      <span>{lesson}</span>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </Container>
</Layout>
<!-- Modal del cup√≥n -->
<div id="couponModal" class="modal hidden">
  <div class="coupon-container">
    <div class="coupon">
      <div class="coupon-left">
        <div class="discount-circle">
          <span class="discount-amount">
            {
              Math.round(
                (1 - courseData.discountPrice / courseData.price) * 100
              )
            }%
          </span>
          <span class="discount-text">OFF</span>
        </div>
      </div>

      <div class="coupon-right">
        <button class="close-modal" aria-label="Cerrar">√ó</button>
        <div class="coupon-content">
          <h2 class="coupon-title">¬°CUP√ìN ESPECIAL!</h2>
          <div class="code-container">
            <span class="code">OBSIDIAN2024</span>
            <!-- <button class="copy-btn" title="Copiar c√≥digo">
              <span class="copy-icon">üìã</span>
              <span class="copy-text">Copiar</span>
            </button> -->
          </div>
          <div class="savings">
            <div class="price-tag">
              <span class="original">${courseData.price}</span>
              <span class="final">${courseData.discountPrice}</span>
            </div>
          </div>
          <div class="coupon-footer">
            <a href={courseUrl.discountUrl}>
              <button class="apply-btn">Aplicar Descuento</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  const openModalBtn = document.getElementById("openCouponModal");
  const modal = document.getElementById("couponModal");

  if (modal) {
    const closeBtn = modal.querySelector(".close-modal");
    const applyBtn = modal.querySelector(".apply-btn");
    const code = modal.querySelector(".code");

    // Abrir modal con animaci√≥n
    openModalBtn?.addEventListener("click", () => {
      modal.classList.remove("hidden");
      // Dar tiempo para la transici√≥n
      setTimeout(() => {
        modal.classList.add("show");
      }, 10);
    });

    // Cerrar modal
    const closeModal = () => {
      modal.classList.remove("show");
      // Esperar a que termine la animaci√≥n antes de ocultar
      setTimeout(() => {
        modal.classList.add("hidden");
      }, 300);
    };

    // Eventos de cierre
    closeBtn?.addEventListener("click", closeModal);
    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Aplicar cup√≥n
    applyBtn?.addEventListener("click", () => {
      //aqui la logica adicional o redirigir a la url con el cupon
      closeModal();
    });

    // Prevenir que la p√°gina se desplace cuando el modal est√° abierto
    modal.addEventListener("show", () => {
      document.body.style.overflow = "hidden";
    });

    modal.addEventListener("hidden", () => {
      document.body.style.overflow = "";
    });
  }
</script>
<style>
  /* ==========================================
       LAYOUT GENERAL
    ========================================== */
  .course-page {
    position: relative;
    min-height: 500px;
  }

  /* ==========================================
       BANNER DEL CURSO
    ========================================== */
  .course-banner {
    background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
      url("/images/obsidian-banner.jpg");
    color: white;
    padding: 3rem 2rem;
    width: 100%;
    background-size: cover;
    background-position: center;
    border-radius: 12px;
  }

  .course-info {
    max-width: 65%;
  }

  .course-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .course-subtitle {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    opacity: 0.9;
  }

  /* Navegaci√≥n y breadcrumbs */
  .breadcrumbs {
    color: #ccc;
    margin-bottom: 1.5rem;
  }

  .breadcrumbs a {
    color: #fff;
    text-decoration: none;
    &:hover {
      text-decoration: underline;
    }
  }

  /* Estad√≠sticas del curso */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-top: 1.5rem;
  }

  .stat-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.95rem;
  }

  .rating-container {
    font-size: 1.2rem;
  }

  .stars {
    color: #ffd700;
    margin: 0 0.5rem;
  }

  /* ==========================================
       TARJETA DE ACCI√ìN (COMPRA)
    ========================================== */
  .action-card {
    position: absolute;
    right: 2rem;
    top: 3rem;
    width: 30%;
    background: white;
    padding: 1.5rem;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    border-radius: 12px;
    color: #333;
  }

  /* Precios y descuentos */
  .price-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }

  .current-price {
    font-size: 2rem;
    font-weight: 700;
    color: #2563eb;
  }

  .original-price {
    text-decoration: line-through;
    color: #666;
    font-size: 1.1rem;
  }
  .price {
    font-size: 2rem;
    font-weight: 700;
  }

  .discount-badge {
    background: #dcfce7;
    color: #166534;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.9rem;
    font-weight: 600;
  }

  /* Botones de acci√≥n */
  .buy-now {
    width: 100%;
    padding: 1rem;
    background: #2563eb;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.2s;

    &:hover {
      background: #1d4ed8;
      transform: translateY(-1px);
    }
  }

  .apply-coupon {
    width: 100%;
    padding: 0.75rem;
    margin-top: 0.75rem;
    border: 2px solid #2563eb;
    color: #2563eb;
    background: transparent;
    border-radius: 8px;
    font-weight: 500;
    transition: all 0.2s;

    &:hover {
      background: #f8fafc;
    }
  }

  /* Lista de caracter√≠sticas */
  .features-list {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #e5e7eb;
  }

  .feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-top: 0.75rem;
    color: #4b5563;
  }

  .feature-icon {
    color: #2563eb;
  }

  /* ==========================================
       SECCI√ìN: LO QUE APRENDER√ÅS
    ========================================== */
  .section-title {
    font-size: 2rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 2rem;
    position: relative;
    padding-bottom: 0.5rem;
  }

  .section-title::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 4px;
    background: #2563eb;
    border-radius: 2px;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    padding: 1rem;
  }

  .learning-item {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    padding: 1rem;
    background: #f8fafc;
    border-radius: 8px;
    transition: all 0.2s ease;
  }

  .learning-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }

  .check-icon {
    color: #2563eb;
    font-size: 1.2rem;
    flex-shrink: 0;
  }

  /* ==========================================
       CONTENIDO DEL CURSO
    ========================================== */
  .module-accordion {
    border: 1px solid #ccc; /* Borde gris claro */
    padding: 16px; /* Padding de 16px en todos los lados */
    border-radius: 12px; /* Bordes redondeados */
    margin-bottom: 8px; /* Margen inferior */
    background-color: #fff; /* Fondo blanco */
  }

  .module-header {
    display: flex; /* Alineaci√≥n flexible de elementos */
    justify-content: space-between; /* Justificar contenido espacio entre */
    align-items: flex-start; /* Alineaci√≥n de los elementos al inicio */
    cursor: pointer; /* Cursor de puntero para indicar interactividad */
  }

  .module-title-section h3 {
    font-size: 1.25rem; /* Tama√±o de fuente del t√≠tulo */
    font-weight: 600; /* Peso de la fuente semibold */
    text-align: left; /* Alineaci√≥n de texto a la izquierda */
    margin: 0; /* Sin margen para el t√≠tulo */
  }

  .module-meta {
    font-size: 0.875rem; /* Tama√±o peque√±o para metadatos */
    color: #666; /* Color gris para texto */
    display: flex; /* Flexbox para alinear los elementos */
    gap: 4px; /* Espacio entre los elementos */
  }

  .accordion-icon {
    font-size: 1rem; /* Tama√±o adecuado para el icono */
    transition: transform 0.3s ease; /* Transici√≥n suave para transformar */
  }

  .module-content {
    margin-top: 8px; /* Margen superior */
    display: none; /* Oculto inicialmente */
  }

  .lesson-item {
    padding: 4px 0; /* Padding vertical para los items de lecci√≥n */
    display: flex; /* Flexbox para alinear icono y texto */
    align-items: center; /* Alineaci√≥n de los √≠tems al centro */
  }

  .lesson-icon {
    margin-right: 8px; /* Margen derecho para el icono */
  }

  /* ==========================================
       MEDIA QUERIES
    ========================================== */
  @media (max-width: 1024px) {
    .course-info {
      max-width: 100%;
    }

    .action-card {
      position: relative;
      width: 100%;
      right: 0;
      top: 0;
      margin-top: 2rem;
    }
  }

  @media (max-width: 768px) {
    .learning-grid {
      grid-template-columns: 1fr;
    }

    .module-header {
      padding: 1rem;
    }

    .module-content {
      padding: 1rem;
    }

    .course-header {
      padding-bottom: 4rem;
    }
  }

  /* ==========================================
     IMAGEN DEL CURSO EN TARJETA
  ========================================== */
  .course-preview {
    position: relative;
    margin: -1.5rem -1.5rem 1.5rem -1.5rem; /* Negativo para compensar el padding de action-card */
    border-radius: 12px 12px 0 0;
    overflow: hidden;
  }

  .course-thumbnail {
    width: 100%;
    height: auto;
    aspect-ratio: 16/9;
    object-fit: cover;
    display: block;
  }

  .preview-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    opacity: 0;
    transition: opacity 0.2s ease;
    border: none;
    cursor: pointer;

    &:hover {
      opacity: 1;
    }
  }

  .play-icon {
    font-size: 3rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  .preview-text {
    color: white;
    font-size: 0.9rem;
    font-weight: 500;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }

  /* Layout principal */
  .content-layout {
    display: grid;
    grid-template-columns: 70% 30%; /* 3/4 y 1/4 */
    gap: 2rem;
    position: relative;
    margin-top: 4rem;
  }

  .main-content {
    width: 100%;
  }

  .sidebar-space {
    /* Espacio reservado para la tarjeta flotante */
    height: 1px; /* M√≠nimo espacio necesario */
  }

  /* Ajustes a los estilos existentes */
  .learning-section {
    padding-right: 1rem;
  }

  .learning-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2 columnas */
    gap: 1.5rem;
  }

  /* Media queries */
  @media (max-width: 1024px) {
    .content-layout {
      grid-template-columns: 1fr; /* Una sola columna en tablets */
      gap: 1rem;
    }

    .sidebar-space {
      display: none; /* Ocultar espacio reservado */
    }

    .learning-section {
      padding-right: 0;
    }
  }

  @media (max-width: 768px) {
    .learning-grid {
      grid-template-columns: 1fr; /* Una columna en m√≥viles */
    }
  }

  /* ==========================================
     MODAL DE CUP√ìN - ESTRUCTURA PRINCIPAL
  ========================================== */
  /* Modal general - Overlay que cubre toda la pantalla */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    display: grid;
    place-items: center;
    z-index: 1000;
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s ease-in-out;
  }

  /* Estado activo del modal */
  .modal.show {
    opacity: 1;
    visibility: visible;
  }

  /* Contenedor principal del cup√≥n */
  .coupon-container {
    padding: 5 rem;
    max-width: 4 rem;
    width: 80%;
    transform: translateY(30px);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Animaci√≥n de entrada del contenedor */
  .modal.show .coupon-container {
    transform: translateY(0);
  }

  /* ==========================================
     DISE√ëO DEL CUP√ìN
  ========================================== */
  /* Tarjeta del cup√≥n */
  .coupon {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    display: flex;
    border-radius: 16px;
    position: relative;
    overflow: hidden;
    box-shadow:
      0 30px 60px -15px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(0, 0, 0, 0.1);
    animation: float 8s ease-in-out infinite;
  }

  /* Animaci√≥n de flotaci√≥n del cup√≥n */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-25px);
    }
  }

  /* ==========================================
     SECCI√ìN IZQUIERDA DEL CUP√ìN
  ========================================== */
  /* Panel izquierdo con gradiente */
  .coupon-left {
    background: linear-gradient(135deg, #25c0eb 0%, #1d4ed8 100%);
    padding: 1.5rem;
    display: grid;
    place-items: center;
    position: relative;
    overflow: hidden;
  }

  /* Efecto de sombreado radial */
  .coupon-left::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at center,
      transparent 25%,
      rgba(0, 0, 0, 0.3)
    );
  }

  /* C√≠rculo del descuento */
  .discount-circle {
    background: white;
    width: 90px;
    height: 90px;
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow:
      0 6px 12px rgba(0, 0, 0, 0.15),
      0 0 0 12px rgba(255, 255, 255, 0.15);
    position: relative;
    animation: pulse 2.5s infinite;
  }

  /* Animaci√≥n de pulsaci√≥n del c√≠rculo */
  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.3);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Texto del porcentaje de descuento */
  .discount-amount {
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1;
  }

  /* Texto "OFF" debajo del porcentaje */
  .discount-text {
    font-size: 1.2rem;
    font-weight: 700;
    color: #2563eb;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* ==========================================
     SECCI√ìN DERECHA DEL CUP√ìN
  ========================================== */
  /* Panel derecho con contenido */
  .coupon-right {
    padding: 2.5rem;
    flex: 1;
    position: relative;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
  }

  /* Bot√≥n de cerrar modal */
  .close-modal {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    opacity: 0.5;
    transition: all 0.3s;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: grid;
    place-items: center;

    &:hover {
      opacity: 1;
      background: rgba(0, 0, 0, 0.08);
      transform: rotate(90deg);
    }
  }

  /* ==========================================
     CONTENIDO DEL CUP√ìN
  ========================================== */
  /* T√≠tulo del cup√≥n */
  .coupon-title {
    font-size: 1.75rem;
    font-weight: 800;
    background: linear-gradient(135deg, #1a1a1a 0%, #2563eb 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  /* Contenedor del c√≥digo del cup√≥n */
  .code-container {
    background: linear-gradient(135deg, #f3f4f6 0%, #ffffff 100%);
    padding: 1.25rem;
    border-radius: 12px;
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    border: 2px dashed #2563eb;
    position: relative;
    overflow: hidden;
  }

  /* Efecto de rayas animadas */
  .code-container::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      45deg,
      transparent 48%,
      #2563eb 49%,
      #2563eb 51%,
      transparent 52%
    );
    opacity: 0.15;
    background-size: 12px 12px;
    animation: moveStripes 20s linear infinite;
  }

  @keyframes moveStripes {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 50px 50px;
    }
  }

  .code {
    font-family: "JetBrains Mono", monospace;
    font-size: 1.75rem;
    font-weight: 700;
    letter-spacing: 3px;
    color: #2563eb;
    flex: 1;
    text-align: center;
    text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.1);
  }

  .copy-icon {
    font-size: 1.2rem;
  }

  .savings {
    text-align: center;
    margin: 2rem 0;
  }

  .price-tag {
    display: inline-flex;
    align-items: center;
    gap: 1.5rem;
    background: #f3f4f6;
    padding: 1rem 2rem;
    border-radius: 999px;
    transition: transform 0.3s ease;

    &:hover {
      transform: scale(1.03);
    }
  }

  .original {
    color: #6b7280;
    text-decoration: line-through;
    font-size: 1.3rem;
    opacity: 0.7;
  }

  .final {
    color: #059669;
    font-size: 1.8rem;
    font-weight: 800;
  }

  .apply-btn {
    width: 100%;
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    color: white;
    border: none;
    padding: 1.25rem;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 4px 6px rgba(37, 99, 235, 0.2);

    &:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 8px 16px rgba(37, 99, 235, 0.3);
      background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
    }

    &:active {
      transform: translateY(0) scale(0.98);
    }
  }

  @media (max-width: 640px) {
    .coupon {
      flex-direction: column;
    }

    .coupon::before,
    .coupon::after {
      display: none;
    }

    .coupon-left {
      padding: 2rem;
    }

    .discount-circle {
      width: 110px;
      height: 110px;
    }

    .discount-amount {
      font-size: 2.5rem;
    }

    .coupon-right {
      padding: 2rem;
    }

    .code {
      font-size: 1.25rem;
    }
  }
</style>

<script>
  // Selecciona todos los encabezados de m√≥dulos
  const headers = document.querySelectorAll('.module-header');

  // Funci√≥n para alternar la visibilidad del contenido
  function toggleAccordion() {
    const moduleContent = this.nextElementSibling; // Selecciona el contenido siguiente al encabezado

    // Alterna la clase para mostrar/ocultar con efecto
    moduleContent.style.display = moduleContent.style.display === 'block' ? 'none' : 'block';

    // Cambia el icono del acorde√≥n
    const icon = this.querySelector('.accordion-icon');
    icon.textContent = icon.textContent === '‚ñº' ? '‚ñ≤' : '‚ñº';
  }

  // A√±ade un listener a cada encabezado
  headers.forEach(header => {
    header.addEventListener('click', toggleAccordion);
  });
</script>
